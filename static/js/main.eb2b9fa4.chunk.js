(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,a,t){e.exports=t(185)},117:function(e,a,t){},168:function(e,a,t){},185:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),r=t(4),l=t.n(r),s=(t(117),t(32)),o=t(109),i=[],m=function(e,a){return!i[a]||e.id!==i[a].id},u=Object(s.c)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MESSAGES_ACTION":var t=JSON.parse(a.payload);return t.some(m)&&i.unshift.apply(i,Object(o.a)(t)),[].concat(i);default:return e}}}),d=t(102);var g,f=t(26),h=t(27),p=t(30),E=t(28),v=t(31),y=t(45),b=t(189),O=t(188),k=t(190),j=t(191),w=t(65),N=new WebSocket("ws://st-chat.shas.tel"),S=function(e){function a(){var e;return Object(f.a)(this,a),(e=Object(p.a)(this,Object(E.a)(a).call(this))).send=function(){var a=JSON.parse(localStorage.getItem("nickName"));e.message.from=a||"anonymus";var t=document.getElementsByClassName("text-of-message")[0];e.message.message=t.value,N.send(JSON.stringify(e.message))},e.message={from:"",message:""},e}return Object(v.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return c.a.createElement(w.a,{onClick:this.send,type:"primary"},"Send")}}]),a}(n.Component),C=t(186),x=t(37),A=t.n(x),J=(t(167),t(168),function(e){function a(){var e,t;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(p.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).messageRender=function(e){var a=JSON.parse(localStorage.getItem("nickName")),t=e.id;e.from===a&&(t="personal-message");var n=A()(e.time).fromNow();return c.a.createElement("div",{id:t,key:e.id},c.a.createElement(k.a,{className:"message-block"},c.a.createElement(k.a,null,c.a.createElement(j.a,{className:"author"},e.from),c.a.createElement(j.a,{className:"time"},n)),c.a.createElement(k.a,{style:{maxWidth:"55%",display:"inline-block"}},c.a.createElement(j.a,{className:"message"},e.message))),c.a.createElement(C.a,null))},t}return Object(v.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){A.a.locale("ru");var e=this.props.messages;return c.a.createElement("div",{className:"messages"},c.a.createElement(C.a,null),e.map(this.messageRender))}}]),a}(n.Component)),T=Object(y.b)(function(e){return{messages:e.messages}})(J),I=t(187),W=function(e){function a(){var e,t;Object(f.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(c)))).changeNickName=function(e){var a=document.getElementsByClassName("input-nickname-field")[0].value;localStorage.setItem("nickName",JSON.stringify(a))},t.handleChange=function(e){console.log("selected ".concat(e))},t}return Object(v.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=I.a.Option;return c.a.createElement("div",null,c.a.createElement(b.a.Header,null,c.a.createElement(k.a,null,c.a.createElement(j.a,{span:4},c.a.createElement(O.a,{className:"input-nickname-field",placeholder:"nickName"})),c.a.createElement(j.a,{span:10},c.a.createElement(w.a,{type:"primary",onClick:this.changeNickName},"Confirm"),c.a.createElement(I.a,{defaultValue:"lucy",style:{width:120},onChange:this.handleChange},c.a.createElement(e,{value:"jack"},"Jack"),c.a.createElement(e,{value:"lucy"},"Lucy"),c.a.createElement(e,{value:"Yiminghe"},"yiminghe"))))))}}]),a}(n.Component),M=b.a.Footer,B=function(e){var a=e.children;return c.a.createElement("div",null,c.a.createElement(b.a,{className:"layout"},c.a.createElement(W,null),c.a.createElement("main",null,a),c.a.createElement(M,{style:{textAlign:"center"}},"Ant Design \xa92019 Created by Georg Pandeh Fumani")))},R=function(e){function a(){var e;return Object(f.a)(this,a),(e=Object(p.a)(this,Object(E.a)(a).call(this))).startSocket=function(){var a=new WebSocket("ws://st-chat.shas.tel");a.onopen=function(){console.log("WebSocket Client Connected")},a.onmessage=function(a){var t=a.data;e.props.getMessages(t)},a.onclose=function(){console.log("close"),setTimeout(function(){e.startSocket()},1e3)}},e.state={},e.nickName="",e}return Object(v.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){this.startSocket()}},{key:"render",value:function(){var e=b.a.Content,a=O.a.TextArea;return c.a.createElement("div",null,c.a.createElement(B,null,c.a.createElement(e,{style:{padding:"0 50px",background:"#f5f5f5"}},c.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:280}},c.a.createElement(T,null),c.a.createElement(k.a,{gutter:24,style:{marginTop:"20px"}},c.a.createElement(j.a,{span:20},c.a.createElement(a,{className:"text-of-message",placeholder:"input you message",autosize:{minRows:1,maxRows:6}})),c.a.createElement(j.a,{span:4},c.a.createElement(S,null)))))))}}]),a}(n.Component),G=Object(y.b)(function(e){return e},function(e){return{getMessages:function(a){return e({type:"MESSAGES_ACTION",payload:a})}}})(R);t(184),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(y.a,{store:(g={},Object(s.e)(u,g,Object(s.d)(Object(s.a)(d.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})))},c.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[112,1,2]]]);
//# sourceMappingURL=main.eb2b9fa4.chunk.js.map